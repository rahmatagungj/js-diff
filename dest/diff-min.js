function diff(e,t,i){void 0===i&&(i=[]);let l=[];const p=Array.isArray(e);let a=a=>{let o=e[a],r=p?+a:a;if(!(a in t))return l.push({type:"REMOVE",path:[r],oldValue:e[a]}),"continue";let u=t[a],f="object"==typeof o&&"object"==typeof u;if(o&&u&&f&&!i.includes(o)){let e=diff(o,u,[]);l.push.apply(l,e.map(e=>(e.path.unshift(r),e)))}else o===u||f&&(isNaN(o)?o+""==u+"":+o==+u)||l.push({path:[r],type:"CHANGE",value:u,oldValue:o})};for(let t in e)a(t);const o=Array.isArray(t);for(let i in t)i in e||l.push({type:"CREATE",path:[o?+i:i],value:t[i]});return l}module.exports=diff;